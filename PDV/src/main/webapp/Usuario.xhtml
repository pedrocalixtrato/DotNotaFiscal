<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

	<h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="titulo">Cadastro de Usuario</ui:insert></title>
        <h:outputStylesheet library="css" name="sistema.css" />
	</h:head>

	<h:body>
		<header>
			<div>
				<h:link>
					<h:graphicImage library="images" name="logo-dotcompany.png" />
				</h:link>
			</div>
		</header>
	</h:body>
	
	<h1>Novo Usuario</h1>
	
		<f:metadata>
			<f:event listener="#{cadastroEmpresaBean.init}" type="preRenderView"/>			
		</f:metadata>
    	
    	<h:form>
    	
    	<p:messages id="msg" autoUpdate="true" closable="true" />
    	
    	<p:toolbar style="margin-top: 20px">
    		<p:toolbarGroup>
    			<p:button value="Novo" />
    			<p:commandButton value="Salvar" id="botaoSalvar"
    							actionListener="#{usuarioBean.salvarNovo()}"
    							update="@form"/>
    		</p:toolbarGroup>
    		<p:toolbarGroup align="right">
    			<p:button value="Voltar" outcome="/Login.xhtml"/>
    		</p:toolbarGroup>
    	</p:toolbar>
    	
    	<p:panelGrid columns="4" style="width: 100%; margin: 15px"
						columnClasses="rotulo, campo, rotulo, campo">
    			    		
    		<p:outputLabel value="Razao" for="nome"/>
    		<p:inputText id="nome" size="60" maxlength="80"
    					 value="#{usuarioBean.empresa.razaoSocial}"/>
    		
    		<p:outputLabel value="Nome Fantasia" />
    		<p:inputText   value="#{usuarioBean.empresa.nomeFantasia}" 
    					   size="60" maxlength="80"/>
    		
    		<p:outputLabel value="CNPJ" />
    		<p:inputMask   value="#{usuarioBean.empresa.cnpj}"
    					   mask="99.999.999/9999-99" />
    		
    		<p:outputLabel value="Inscrição Estadual" />
    		<p:inputText   value="#{usuarioBean.empresa.inscricaoEstadual}"/>
    		
    		<p:outputLabel value="Tipo Regime" />
    		<p:inputText   value="#{usuarioBean.empresa.tipoRegime}"/>
    		
    		<p:outputLabel value="CRT" />
    		<p:inputText   value="#{usuarioBean.empresa.crt}"/>
    		
    		<p:outputLabel value="Codigo IBGE Cidade" />
    		<p:inputText   value="#{usuarioBean.empresa.codigoIbgeCidade}"/>
    		
    		<p:outputLabel value="Codigo IBGE UF" />
    		<p:inputText   value="#{usuarioBean.empresa.codigoIbgeUf}"/>
    		
    	</p:panelGrid>
    	
    		<p:tabView style="margin-top: 20px">
				<p:tab title="Usuario">	
				 <p:panelGrid columns="4" style="width: 100%; margin: 15px"
						columnClasses="rotulo, campo, rotulo, campo">
						<p:outputLabel value="Codigo" />
						<p:inputText value="#{usuarioBean.usuario.id}" size="5"/>
						
						<p:outputLabel value="Nome" />
						<p:inputText value="#{usuarioBean.usuario.nome}"/>
						
						<p:outputLabel value="Email" />
						<p:inputText value="#{usuarioBean.usuario.email}" />
		
						<p:outputLabel value="Senha	" />
						<p:inputText value="#{usuarioBean.usuario.senha}" />
		
						<p:outputLabel value="Grupo" />	
						<p:selectManyCheckbox styleClass="many-checkbox" 
								value="#{usuarioBean.usuario.grupos}" converter="grupoConverter">
							<f:selectItems value="#{cadastroEmpresaBean.grupos}"  var="grupoVar"
		            			   itemValue="#{grupoVar}" itemLabel="#{grupoVar.descricao}" />
						</p:selectManyCheckbox>							
				</p:panelGrid>			
				</p:tab>				
				<p:tab title="Endereço">
					<p:panelGrid columns="4" style="width: 100%; margin: 15px"
						columnClasses="rotulo, campo, rotulo, campo">					
						
						<p:outputLabel value="Email" />
    					<p:inputText   value="#{usuarioBean.empresa.email}"/>
    					
    					<p:outputLabel value="Nome Contato" />
    					<p:inputText   value="#{usuarioBean.empresa.contato}"/>
    					
    					<p:outputLabel value="Logradouro" />
    					<p:inputText   value="#{usuarioBean.empresa.logradouro}"/>
    					
    					<p:outputLabel value="Numero" />
    					<p:inputText   value="#{usuarioBean.empresa.numero}"/>
    					
    					<p:outputLabel value="Complemento" />
    					<p:inputText   value="#{usuarioBean.empresa.complemento}"/>
    					
    					<p:outputLabel value="Bairro" />
    					<p:inputText   value="#{usuarioBean.empresa.bairro}"/>
    					
    					<p:outputLabel value="Cidade" />
    					<p:inputText   value="#{usuarioBean.empresa.cidade}"/>
    					
    					<p:outputLabel value="Estado" />
    					<p:inputText   value="#{usuarioBean.empresa.uf}"/>
    					
    					<p:outputLabel value="Cep" />
    					<p:inputText   value="#{usuarioBean.empresa.cep}"/>
    					
    					<p:outputLabel value="Telefone" />
    					<p:inputText   value="#{usuarioBean.empresa.fone}"/>    					
    											
					</p:panelGrid>				
				</p:tab>
			</p:tabView>
    	
    	</h:form>
	
	<p:separator style="margin-top: 20px"/>
	
	<footer>
		Sistema Online NotaFiscalSuperSimples by DotCompany 
		<a href="http://dotcompany.com.br" target="_blank">www.dotcompany.com.br</a>
	</footer>

</html>